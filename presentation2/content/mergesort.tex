\section{Paralleles Mergesort}

\subsection{Sequentielles Mergesort}
%----------------------------------------------------------------------%SLIDE -
\begin{frame}
    \frametitle{Betrachtung eines parallelen Mergesorts}
    \framesubtitle{Sequential Mergesorts}
    \begin{algorithm}[H]
        \caption{{\rmfamily \textsc{Mergesort}} \cite[S.34]{cormen}}
        \label{alg:mergesort}
        \begin{algorithmic}[1]
            \Require Ein Array $A$ mit den Indices $p$ und $r$.
            \Ensure Das Array $A$ sortiert zwischen $p$ und $r$.
            \If {$p < r$}
                \State $q \gets \lfloor (p + r) / 2 \rfloor$
                \State {\rmfamily \textsc{Mergesort}}$(A, p, q)$
                \State {\rmfamily \textsc{Mergesort}}$(A, q + 1, r)$
                \State {\rmfamily \textsc{Merge}}$(A, p, q, r)$
            \EndIf
        \end{algorithmic}
    \end{algorithm}
\end{frame}
%----------------------------------------------------------------------%SLIDE -

%----------------------------------------------------------------------%SLIDE -
\begin{frame}
    \begin{algorithm}[H]
        \caption{{\rmfamily \textsc{Merge}} \cite[S.31]{cormen}}
        \label{alg:merge}
        \begin{algorithmic}[1]
            \Require Ein Array $A$ mit sortierten Subarrays $A[p:q]$ und
                $A[q+1:r]$.
            \Ensure Das Array $A$ sortiert zwischen $p$ und $r$.
            \setlength\multicolsep{0pt}
            \begin{multicols}{2}
                \State $n_1 \gets q - p + 1$
                \State $n_2 \gets r - q$
                \State $L[1:n_1 +1]$, $R[1:n_2 + 1]$
                \For {$i \gets 1$ \textbf{to} $n_1$}
                    \State $L[i] \gets A[p + i - 1]$
                \EndFor
                \For {$j \gets 1$ \textbf{to} $n_1$}
                    \State $R[j] \gets A[q + j]$
                \EndFor
                \State $L[n_1 + 1] \gets \infty$
                \State $R[n_2 + 1] \gets \infty$
                \State $i \gets 1$
                \State $j \gets 1$
                \For {$k \gets p$ \textbf{to} $r$}
                    \If {$L[i] \leq R[j]$}
                        \State $A[k] \gets L[i]$
                        \State $i \gets i + 1$
                    \Else
                        \State $A[k] \gets R[j]$
                        \State $j \gets i + 1$
                    \EndIf
                \EndFor
            \end{multicols}
        \end{algorithmic}
    \end{algorithm}
\end{frame}
%----------------------------------------------------------------------%SLIDE -

%----------------------------------------------------------------------%SLIDE -
\begin{frame}
    \frametitle{Sequentielle Laufzeit}
    \begin{itemize}
        \item {\rmfamily \textsc{Merge}} läuft in $\Theta(n)$
        \item Laufzeit von {\rmfamily \textsc{Mergesort}}
            \begin{equation}
                MS_1(n) = \begin{cases}
                    \Theta(1) & \text{wenn } n = 1 \\
                    2T(n/2) + \Theta(n) & \text{wenn } n > 1
                \end{cases}
            \end{equation}
        \item {\rmfamily \textsc{Mergesort}} läuft in $\Theta(n \log n)$
    \end{itemize}
\end{frame}
%----------------------------------------------------------------------%SLIDE -

\subsection{Parallelisierung}
%----------------------------------------------------------------------%SLIDE -
\begin{frame}
    \frametitle{Parallelisierung}
    \framesubtitle{1. Ansatz}
    Wieso nicht die beiden rekursiven Aufrufe parallel ausführen?
    \begin{algorithm}[H]
        \caption{{\rmfamily \textsc{Mergesort'}} \cite[S.34]{cormen}}
        \label{alg:mergesort}
        \begin{algorithmic}[1]
            \Require Ein Array $A$ mit den Indices $p$ und $r$.
            \Ensure Das Array $A$ sortiert zwischen $p$ und $r$.
            \If {$p < r$}
                \State $q \gets \lfloor (p + r) / 2 \rfloor$
                %\State $P[1] \gets p - 1$, $P[2] \gets q$, $P[3] \gets r$
                \ParDo {$a,b$ \textbf{in} $[(p,q),(q+1,r)]$}
                    \State {\rmfamily \textsc{Mergesort}}$(A, a, b)$
                \EndParDo
                %\ParDo {$i$ \textbf{in} $1, 2$}
                %    \State {\rmfamily \textsc{Mergesort}}$(A, P[i] + 1, P[i+1])$
                %\EndParDo
                \State {\rmfamily \textsc{Merge}}$(A, p, q, r)$
            \EndIf
        \end{algorithmic}
    \end{algorithm}
\end{frame}
%----------------------------------------------------------------------%SLIDE -

%----------------------------------------------------------------------%SLIDE -
\begin{frame}
    \frametitle{Parallele Laufzeit}
    \framesubtitle{1. Ansatz}
    \begin{itemize}
        \item {\rmfamily \textsc{Merge}} läuft in $\Theta(n)$
        \item Laufzeit von {\rmfamily \textsc{Mergesort'}}
            \begin{equation}
                MS'_\infty(n) = \begin{cases}
                    \Theta(1) & \text{wenn } n = 1 \\
                    T(n/2) + \Theta(n) & \text{wenn } n > 1
                \end{cases}
            \end{equation}
        \item {\rmfamily \textsc{Mergesort'}} läuft in $\Theta(n)$
        \item Speedup
            \begin{equation}
                \frac{MS_1}{MS'_\infty} = \Theta(\log n)
            \end{equation}
    \end{itemize}
\end{frame}
%----------------------------------------------------------------------%SLIDE -
